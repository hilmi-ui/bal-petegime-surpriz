:root {
    --bg-dark: #120505;
    --red: #7b001e;
    --gold: #d4af37;
    --paper: #fffcf5;
    --purple: #800080; /* Mor Rengimiz */
}

/* Genel Sıfırlama */
* { box-sizing: border-box; margin: 0; padding: 0; outline: none !important; -webkit-tap-highlight-color: transparent !important; }

body {
    background-color: var(--bg-dark);
    height: 100vh; display: flex; align-items: center; justify-content: center;
    font-family: 'Dancing Script', cursive; overflow: hidden;
}

/* --- ZARF YAPISI (ORTAK) --- */
.envelope-wrapper { position: relative; width: 300px; height: 200px; cursor: pointer; z-index: 10; transition: transform 0.5s ease; }
.envelope { position: relative; width: 100%; height: 100%; background: #500013; border-radius: 5px; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
.pocket { position: absolute; bottom: 0; left: 0; border-width: 0 150px 110px 150px; border-style: solid; border-color: transparent transparent var(--red) transparent; z-index: 20; border-radius: 0 0 5px 5px; }
.flap { position: absolute; width: 0; height: 0; border-style: solid; z-index: 5; }
.flap.left { border-width: 100px 0 100px 150px; border-color: transparent transparent transparent var(--red); top: 0; left: 0; border-radius: 5px 0 0 5px; }
.flap.right { border-width: 100px 150px 100px 0; border-color: transparent var(--red) transparent transparent; top: 0; right: 0; border-radius: 0 5px 5px 0; }
.flap.top { border-width: 110px 150px 0 150px; border-color: #900023 transparent transparent transparent; top: 0; left: 0; z-index: 21; transform-origin: top; transition: transform 0.6s ease; border-radius: 5px 5px 0 0; }
.wax-seal { position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%); width: 45px; height: 45px; background: radial-gradient(circle, #e6c665, #b38728); border-radius: 50%; z-index: 30; display: flex; align-items: center; justify-content: center; color: #634300; box-shadow: 0 4px 8px rgba(0,0,0,0.4); transition: opacity 0.4s; pointer-events: none; }

.envelope-wrapper.open .flap.top { transform: rotateX(180deg); z-index: 1; }
.envelope-wrapper.open .wax-seal { opacity: 0; }

/* PERDE */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); opacity: 0; pointer-events: none; transition: 0.5s; z-index: 50; }
.overlay.show { opacity: 1; pointer-events: auto; }


/* --- ORTAK İÇERİK STİLLERİ --- */
h1 { font-family: 'Cormorant Garamond', serif; font-size: 24px; color: var(--red); border-bottom: 1px solid var(--gold); display: inline-block; padding-bottom: 5px; margin-bottom: 15px; margin-top: 10px; }
p { font-size: 18px; color: #222; line-height: 1.5; margin-bottom: 10px; }

/* İmza Alanı (Genel) */
.signature { margin-top: 20px; margin-bottom: 20px; }
.love { font-weight: bold; color: var(--red); font-size: 18px; }
.name { font-weight: bold; color: #800080; font-size: 16px; font-family: 'Cormorant Garamond', serif; } /* Mor Renk */

.close-icon { position: absolute; top: 15px; right: 20px; font-size: 26px; cursor: pointer; color: var(--red); z-index: 10; font-family: sans-serif; }
.polaroid img { width: 100%; height: auto; display: block; border: 1px solid #eee; }
.polaroid p { margin-top: 15px; font-family: 'Indie Flower', cursive; color: #333; text-align: center; font-size: 20px; }


/* =========================================================
   PC GÖRÜNÜMÜ (BİLGİSAYAR - DÜZELTİLDİ)
   ========================================================= */
@media screen and (min-width: 651px) {
    .letter-container {
        position: fixed; top: 50%; left: 50%;
        transform: translate(-50%, -50%) scale(0);
        width: 90vw; max-width: 850px; aspect-ratio: 16/9;
        z-index: 1000; opacity: 0;
        transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
    }
    .letter-container.show { transform: translate(-50%, -50%) scale(1); opacity: 1; pointer-events: auto; }

    .book-content {
        display: flex; width: 100%; height: 100%;
        background: var(--paper);
        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        border-radius: 5px;
        background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
    }

    .page {
        flex: 1; padding: 25px;
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        border: 1px solid #e0d0b0; position: relative;
    }
    .left-page { background-color: #f7f1e3; border-right: 1px solid #ccc; }
    
    /* PC SAĞ SAYFA: Yazıların ortalanmasını garantile */
    .right-page { 
        background-color: #fffcf5; 
        text-align: center; /* Yazıları ortala */
    }
    
    /* İMZA ORTALAMA DÜZELTMESİ (PC İÇİN) */
    .signature {
        width: 100%;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .polaroid { background: white; padding: 10px 10px 30px 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transform: rotate(-2deg); width: 80%; max-width: 300px; }
    
    .mobile-btn { display: none; }
}


/* =========================================================
   MOBİL GÖRÜNÜM (TELEFON - AYNI KALDI)
   ========================================================= */
@media screen and (max-width: 650px) {

    .letter-container {
        position: fixed; top: 0; left: 0;
        width: 100%; height: 100%;
        display: flex; align-items: center; justify-content: center;
        z-index: 1000; opacity: 0;
        transition: opacity 0.5s ease-in-out;
        pointer-events: none;
        perspective: 1500px;
    }
    .letter-container.show { opacity: 1; pointer-events: auto; }

    .book-content {
        position: relative;
        width: 85vw; height: 75vh; 
        max-width: 400px; max-height: 650px;
        transform-style: preserve-3d;
        transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
        background: transparent;
        box-shadow: none;
    }
    .book-content.flipped { transform: rotateY(180deg); }

    .page {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        backface-visibility: hidden; -webkit-backface-visibility: hidden;
        border-radius: 12px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        display: flex; flex-direction: column; justify-content: space-between; align-items: center;
        padding: 25px 20px;
        background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
        overflow: hidden;
    }

    .right-page { z-index: 2; transform: rotateY(0deg); background-color: #fffcf5; }
    .left-page { transform: rotateY(180deg); background-color: #f7f1e3; justify-content: center; }

    .text-scroll { 
        width: 100%; flex-grow: 1;
        display: flex; flex-direction: column; justify-content: space-evenly;
        align-items: center; text-align: center;
        overflow: hidden;
    }
    
    .polaroid { 
        background: white; padding: 10px 10px 30px 10px; 
        box-shadow: 0 5px 15px rgba(0,0,0,0.25); 
        transform: rotate(-2deg); width: 90%; margin-bottom: 20px;
    }

    .mobile-btn {
        display: flex; align-items: center; justify-content: center; gap: 8px;
        width: 80%; padding: 12px 0;
        border: none; border-radius: 50px;
        font-family: 'Cormorant Garamond', serif; font-size: 18px; font-weight: bold;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(123,0,30,0.2);
        margin-top: 10px;
    }
    .next-btn { background: var(--red); color: white; }
    .back-btn { background: var(--gold); color: #120505; }
    
    .name { color: #800080; } /* Mobilde de mor */
}